# AI Assistant Project Context Guide

> **–¶–µ–ª—å**: –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–≥–∞–µ—Ç –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É –ø–æ–Ω–∏–º–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞ "Sbornitsa" –∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞.

---

## üìã –û –ø—Ä–æ–µ–∫—Ç–µ

**Sbornitsa** - —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ —Å–µ–º–µ–π–Ω–æ–≥–æ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–∞, —Ä–∞–±–æ—Ç–∞—é—â–µ–µ –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∞–π—Ç –Ω–∞ GitHub Pages.

### –ö–ª—é—á–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

- **–¢–∏–ø**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π Next.js —Å–∞–π—Ç (SSG)
- **–î–µ–ø–ª–æ–π**: GitHub Pages
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –õ–æ–∫–∞–ª—å–Ω–∞—è (localStorage) —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º
- **–î–∞–Ω–Ω—ã–µ**: –•—Ä–∞–Ω—è—Ç—Å—è –≤ TypeScript —Ñ–∞–π–ª–∞—Ö, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ —Å–±–æ—Ä–∫–∏
- **–ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: –†—É—Å—Å–∫–∏–π (–æ—Å–Ω–æ–≤–Ω–æ–π) + –ê–Ω–≥–ª–∏–π—Å–∫–∏–π

### –î–æ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—Å—Ç—å:

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: –°–µ–º—å–∏ —Å —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏ –∏ –¥–µ—Ç—å–º–∏
- **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**: –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–µ–∂–¥—É —Å–µ–º—å—è–º–∏ –∏ –æ–±—â–∏–º–∏ —Ä–∞—Å—Ö–æ–¥–∞–º–∏
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: –ú—É–∑—ã–∫–∞, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –ø–µ—Ä–µ–≤–æ–¥—ã, —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç—ã, –ø–æ–¥–∞—Ä–∫–∏
- **–¢–µ–≥–∏**: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ä–æ–¥–∏—Ç–µ–ª–∏, —É—á–∏—Ç–µ–ª—è, –¥–µ—Ç–∏, –º–∞—Ç–µ—Ä–∏, –æ—Ç—Ü—ã, —Å—ã–Ω–æ–≤—å—è, –¥–æ—á–µ—Ä–∏)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (SSG)

**–ü–æ—á–µ–º—É**: GitHub Pages –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—É—é –ª–æ–≥–∏–∫—É.

**–°–ª–µ–¥—Å—Ç–≤–∏—è**:
- ‚ùå –ù–ï–õ–¨–ó–Ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Server Actions
- ‚ùå –ù–ï–õ–¨–ó–Ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `headers()` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- ‚ùå –ù–ï–õ–¨–ó–Ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API routes
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `process.env.NEXT_PUBLIC_*` –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ build time —á–µ—Ä–µ–∑ `scripts/build-data.ts`

**–ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞**:
```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - headers() –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
import { headers } from 'next/headers'
const host = headers().get('host')

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
const siteUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://example.com'
```

### 2. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ localStorage

**–ü–æ—á–µ–º—É**: –ù–µ—Ç –±—ç–∫–µ–Ω–¥–∞, –¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ, –Ω—É–∂–Ω–∞ –ø—Ä–æ—Å—Ç–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è —Å–µ–º–µ–π.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
- –î–∞–Ω–Ω—ã–µ —Å–µ–º—å–∏ (ID, –ø–∞—Ä–æ–ª—å) —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `lib/data/families-generated.json`
- –ü—Ä–∏ –ª–æ–≥–∏–Ω–µ –¥–∞–Ω–Ω—ã–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ GitHub Secrets

**API —Ñ—É–Ω–∫—Ü–∏–∏**:
```typescript
// lib/auth.ts
login(username: string, password: string): boolean
logout(): void
getCurrentUser(): User | null
getFamily(): Family | null
```

**–í–∞–∂–Ω–æ**: –ù–µ –ø—Ä–µ–¥–ª–∞–≥–∞–π—Ç–µ JWT, cookies, –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é - –æ–Ω–∏ –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∞–π—Ç–∞.

### 3. –°–∏—Å—Ç–µ–º–∞ —Ç–∏–ø–æ–≤

**–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è**: –í—Å–µ —Ç–∏–ø—ã –≤ `lib/definitions.ts`

**–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è ID**:
```typescript
// UserId - —Å—Ç—Ä–æ–≥–∏–π union type –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
type UserId = 'anastasia.chernaya' | 'boris.yuzhakov' | ...

// FamilyId - —Å—Ç—Ä–æ–≥–∏–π union type –≤—Å–µ—Ö —Å–µ–º–µ–π
type FamilyId = 'pimenov' | 'eremeev' | ...
```

**–ü–æ—á–µ–º—É**: –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ–ø–µ—á–∞—Ç–æ–∫.

**–ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –ò–ò**: –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/—Å–µ–º–µ–π –í–°–ï–ì–î–ê –æ–±–Ω–æ–≤–ª—è–π—Ç–µ union —Ç–∏–ø—ã –≤ `lib/definitions.ts`.

### 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏–Ω—Ü–∏–ø**: –î–∞–Ω–Ω—ã–µ –≤ TypeScript —Ñ–∞–π–ª–∞—Ö ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è JSON –Ω–∞ —ç—Ç–∞–ø–µ —Å–±–æ—Ä–∫–∏

```
lib/data/
‚îú‚îÄ‚îÄ users.ts              # –ú–∞—Å—Å–∏–≤ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ families.ts           # –ö–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ–º—å—è–º–∏
‚îú‚îÄ‚îÄ transactions.ts       # –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ —Å–≤—è–∑–∏ —Å–µ–º—å—è-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
‚îî‚îÄ‚îÄ families-generated.json  # –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π —Ñ–∞–π–ª (–ù–ï –†–ï–î–ê–ö–¢–ò–†–û–í–ê–¢–¨ –í–†–£–ß–ù–£–Æ)
```

**–ü–∞—Ç—Ç–µ—Ä–Ω —Å–ª–æ–≤–∞—Ä–µ–π**:
```typescript
// –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ —Å–æ–∑–¥–∞—ë–º —Å–ª–æ–≤–∞—Ä–∏
const usersDic = users.reduce((acc, user) => {
  acc[user.id] = user
  return acc
}, {} as Record<string, User>)

export { users, usersDic }
```

**–ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –ò–ò**: 
- –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –≤ `.ts` —Ñ–∞–π–ª–∞—Ö
- –°–ª–æ–≤–∞—Ä–∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —á–µ—Ä–µ–∑ `reduce()`
- JSON —Ñ–∞–π–ª—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ build —Å–∫—Ä–∏–ø—Ç

---

## üéØ –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–¥–∞

### 1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### Server vs Client –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```tsx
// ‚úÖ Server Component (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
export default function UserProfile({ userId }: Props) {
  const user = users.find(u => u.id === userId)
  return <div>{user.name}</div>
}

// ‚úÖ Client Component - –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
'use client'

import { useState } from 'react'

export default function LoginForm() {
  const [error, setError] = useState<string>()
  // ...
}
```

**–ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –ò–ò**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Server Components –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –î–æ–±–∞–≤–ª—è–π—Ç–µ `'use client'` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω—ã:
- –•—É–∫–∏ React (useState, useEffect, etc.)
- –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ API (localStorage, window)
- Event handlers (onClick, onChange)

#### –¢–∏–ø–∏–∑–∞—Ü–∏—è Props

```tsx
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Props
interface Props {
  user: User
  onUpdate?: () => void
}

export const UserCard = ({ user, onUpdate }: Props) => {
  // ...
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - inline —Ç–∏–ø–∏–∑–∞—Ü–∏—è
export const UserCard = ({ user, onUpdate }: { user: User, onUpdate?: () => void }) => {
  // ...
}
```

### 2. –£—Ç–∏–ª–∏—Ç—ã

#### cn() –¥–ª—è —É—Å–ª–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤

```tsx
import { cn } from '@/lib/utils'

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
<div className={cn(
  'text-base',
  isActive && 'bg-blue-500',
  value > 0 ? 'text-green-500' : 'text-red-500'
)}>

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å—Ç—Ä–æ–∫
<div className={`text-base ${isActive ? 'bg-blue-500' : ''}`}>
```

#### –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã

```typescript
// lib/tools/ - —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
lib/tools/
‚îú‚îÄ‚îÄ time.ts         # format(timestamp) - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
‚îú‚îÄ‚îÄ calc.ts         # –ö–∞–ª—å–∫—É–ª—è—Ü–∏–∏ –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
‚îî‚îÄ‚îÄ webpify.ts      # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```

**–ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –ò–ò**: –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –≤ `lib/utils.ts`, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ `lib/tools/`.

### 3. –ò–º–ø–æ—Ä—Ç—ã

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ª–∏–∞—Å `@/*`**:

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
import { Button } from '@/components/ui/button'
import { users } from '@/lib/data/users'

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
import { Button } from '../../../components/ui/button'
```

**–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤** (Biome –¥–µ–ª–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):

```typescript
import { useState } from 'react'

import { useRouter } from 'next/navigation'

import { clsx } from 'clsx'

import { Button } from '@/components/ui/button'
import { getFamily } from '@/lib/auth'

import type { User } from './types'
```

### 4. SEO –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
export async function generateMetadata(): Promise<Metadata> {
  const siteUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://example.com'
  
  return {
    title: 'Page Title | Sbornitsa',
    description: '...',
    openGraph: {
      url: `${siteUrl}/path`,
      // ...
    },
  }
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - headers() –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ SSG
import { headers } from 'next/headers'
const host = headers().get('host')
```

**–ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –ò–ò**: –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `process.env.NEXT_PUBLIC_SITE_URL`, –Ω–∏–∫–æ–≥–¥–∞ `headers()`.

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è

### –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```typescript
// crypto-js –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
import CryptoJS from 'crypto-js'

// –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
const PRIVATE_KEY = process.env.NEXT_PUBLIC_PRIVATE_KEY

// –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ localStorage
const encrypted = CryptoJS.AES.encrypt(data, PRIVATE_KEY).toString()
localStorage.setItem('family', encrypted)

// –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏
const decrypted = CryptoJS.AES.decrypt(encrypted, PRIVATE_KEY)
const data = JSON.parse(decrypted.toString(CryptoJS.enc.Utf8))
```

**–ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –ò–ò**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ crypto-js –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ localStorage.

---

## üåê –ò–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è (i18n)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```
messages/
‚îú‚îÄ‚îÄ en.json
‚îî‚îÄ‚îÄ ru.json
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```tsx
'use client'

import { useTranslations } from 'next-intl'

export default function Component() {
  const t = useTranslations('ComponentName')
  
  return <h1>{t('title')}</h1>
}
```

**–ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –ò–ò**: –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ –í–°–ï–ì–î–ê –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –û–ë–ê —Ñ–∞–π–ª–∞ (en.json –∏ ru.json).

### –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã

```
app/
  [locale]/
    page.tsx              # /{locale}/
    profile/
      page.tsx            # /{locale}/profile
```

**–ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –ò–ò**: –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–Ω—É—Ç—Ä–∏ `app/[locale]/`.

---

## üìä –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏

### –ü–∞—Ç—Ç–µ—Ä–Ω: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–≤

```typescript
// –í—ã—á–∏—Å–ª—è–µ–º –±–∞–ª–∞–Ω—Å—ã –∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
const values: Record<string, number> = {}

for (const { family, value } of familyTransactions) {
  values[family] = (values[family] ?? 0) + value
}

// –û–±–Ω–æ–≤–ª—è–µ–º —Å–µ–º—å–∏ —Å –Ω–æ–≤—ã–º–∏ –±–∞–ª–∞–Ω—Å–∞–º–∏
const families = familiesInstance.update_values(values)
```

**–ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –ò–ò**: –ë–∞–ª–∞–Ω—Å—ã –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ.

### –ü–∞—Ç—Ç–µ—Ä–Ω: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–µ–º—å–µ

```typescript
// –í –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –ø–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é —Å–µ–º—å—é
const family = getFamily()

if (!family) return null

// –§–∏–ª—å—Ç—Ä—É–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
const familyTransactions = allTransactions.filter(
  tx => tx.family === family.id
)
```

### –ü–∞—Ç—Ç–µ—Ä–Ω: –†–∞–±–æ—Ç–∞ —Å —Ç–µ–≥–∞–º–∏

```typescript
// –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–≥–æ–≤ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
import { createTags } from '@/lib/definitions'

const tags = createTags(['parents', 'mothers'] as const)

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ç–µ–≥–∞
if (user.tags.has('teachers')) {
  // ...
}
```

**–ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –ò–ò**: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `createTags()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ–≥–æ–≤ - —ç—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å.

---

## üé® UI/UX –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### Shadcn UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Shadcn UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `components/ui/`:

```tsx
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
import { Button } from '@/components/ui/button'
import { Card, CardContent } from '@/components/ui/card'
import { Avatar, AvatarImage, AvatarFallback } from '@/components/ui/avatar'

<Card>
  <CardContent>
    <Avatar>
      <AvatarImage src={user.avatar} alt={user.name} />
      <AvatarFallback>{user.name[0]}</AvatarFallback>
    </Avatar>
  </CardContent>
</Card>
```

**–ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –ò–ò**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –¥—É–±–ª–∏–∫–∞—Ç—ã.

### –¢–µ–º–Ω–∞—è —Ç–µ–º–∞

```tsx
// –ü–æ–¥–¥–µ—Ä–∂–∫–∞ dark mode —á–µ—Ä–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä dark:
<div className="bg-white dark:bg-zinc-800 text-zinc-900 dark:text-white">
```

**–ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –ò–ò**: –í–°–ï–ì–î–ê –¥–æ–±–∞–≤–ª—è–π—Ç–µ `dark:` –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

```tsx
// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ responsive –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã Tailwind
<div className="flex flex-col md:flex-row gap-4">
  <img className="w-full md:w-1/2" />
</div>
```

---

## üö´ –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–≥–∞—Ç—å

### 1. Async Client Components

```tsx
// ‚ùå –û–®–ò–ë–ö–ê
'use client'

export default async function Component() {
  // Async –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–ø—Ä–µ—â–µ–Ω—ã!
}

// ‚úÖ –†–ï–®–ï–ù–ò–ï: –£–±–µ—Ä–∏—Ç–µ 'use client' –¥–ª—è async –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
export default async function Component() {
  const data = await fetchData()
  return <ClientComponent data={data} />
}
```

### 2. –ó–∞–±—ã—Ç—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤

```typescript
// ‚ùå –û–®–ò–ë–ö–ê: –î–æ–±–∞–≤–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ users.ts, –Ω–æ –∑–∞–±—ã–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å UserId
export const users: User[] = [
  { id: 'new.user', ... }, // TypeScript –Ω–µ —Ä—É–≥–∞–µ—Ç—Å—è!
]

// ‚úÖ –†–ï–®–ï–ù–ò–ï: –û–±–Ω–æ–≤–∏—Ç–µ union type –≤ definitions.ts
type UserId = 
  | 'anastasia.chernaya'
  | 'new.user'  // ‚Üê –î–æ–±–∞–≤—å—Ç–µ —Å—é–¥–∞
  | ...
```

### 3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å localStorage –≤ SSR

```tsx
// ‚ùå –û–®–ò–ë–ö–ê: localStorage –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ Server Component
export default function Page() {
  const data = localStorage.getItem('key') // Error!
}

// ‚úÖ –†–ï–®–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Client Component
'use client'

export default function Page() {
  const [data, setData] = useState<string | null>(null)
  
  useEffect(() => {
    setData(localStorage.getItem('key'))
  }, [])
}
```

### 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ deprecated –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

```tsx
// ‚ùå –û–®–ò–ë–ö–ê: forEach –≤–º–µ—Å—Ç–æ map
const items: JSX.Element[] = []
data.forEach(item => {
  items.push(<Item key={item.id} {...item} />)
})

// ‚úÖ –†–ï–®–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ map
const items = data.map(item => (
  <Item key={item.id} {...item} />
))
```

---

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏

### Build flow

```bash
1. bun run scripts/build-data.ts  # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JSON –∏–∑ TypeScript –¥–∞–Ω–Ω—ã—Ö
2. next build                      # Next.js —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
3. GitHub Actions                  # –î–µ–ø–ª–æ–π –Ω–∞ GitHub Pages
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# .env.local (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_PRIVATE_KEY=your_private_key

# GitHub Actions (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
NEXT_PUBLIC_SITE_URL=https://yoursite.github.io
NEXT_PUBLIC_PRIVATE_KEY=${{ secrets.PRIVATE_KEY }}
```

**–ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –ò–ò**: –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `NEXT_PUBLIC_`.

---

## üìê –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π –¥–ª—è –ò–ò

### –ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```
‚úÖ –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –µ—Å–ª–∏:
- –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ 2+ –º–µ—Å—Ç–∞—Ö
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç > 100 —Å—Ç—Ä–æ–∫ –∏ –∏–º–µ–µ—Ç —á—ë—Ç–∫—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- –ù—É–∂–Ω–∞ –∏–∑–æ–ª—è—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –µ—Å–ª–∏:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
- –õ–æ–≥–∏–∫–∞ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω–∞ (< 20 —Å—Ç—Ä–æ–∫)
- –£–∂–µ –µ—Å—Ç—å –ø–æ—Ö–æ–∂–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```

### –ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—É—é —É—Ç–∏–ª–∏—Ç—É

```
‚úÖ –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —É—Ç–∏–ª–∏—Ç—É –µ—Å–ª–∏:
- –§—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ 3+ –º–µ—Å—Ç–∞—Ö
- –õ–æ–≥–∏–∫–∞ –Ω–µ —Å–≤—è–∑–∞–Ω–∞ —Å React (—á–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
- –§—É–Ω–∫—Ü–∏—è —Ä–µ—à–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É

‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —É—Ç–∏–ª–∏—Ç—É –µ—Å–ª–∏:
- –§—É–Ω–∫—Ü–∏—è –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–∞—è (1-2 —Å—Ç—Ä–æ–∫–∏)
- –õ–æ–≥–∏–∫–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
```

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Client Component

```
‚úÖ 'use client' –Ω—É–∂–µ–Ω –¥–ª—è:
- useState, useEffect, –¥—Ä—É–≥–∏–µ React hooks
- Browser APIs (localStorage, window, document)
- Event handlers (onClick, onChange, onSubmit)
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏, —Ç—Ä–µ–±—É—é—â–∏–µ browser (maps, charts)

‚ùå 'use client' –ù–ï –Ω—É–∂–µ–Ω –¥–ª—è:
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –°–µ—Ä–≤–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (fetch –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ)
- SEO-–∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
```

### –ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–∏–ø—ã –≤ definitions.ts

```
‚úÖ –í–°–ï–ì–î–ê –æ–±–Ω–æ–≤–ª—è–π—Ç–µ definitions.ts –ø—Ä–∏:
- –î–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí UserId
- –î–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Å–µ–º—å–∏ ‚Üí FamilyId
- –î–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí Category['id']
- –ò–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã User/Family/Transaction

‚ùå –ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ –≤ definitions.ts:
- –¢–∏–ø—ã, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ/–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã
```

---

## üéØ –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –ò–ò –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∫–æ–¥–∞

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

### –û–±—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- [ ] –°–æ–≤–º–µ—Å—Ç–∏–º–æ –ª–∏ —Ä–µ—à–µ–Ω–∏–µ —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π (SSG)?
- [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã —Å –∞–ª–∏–∞—Å–æ–º `@/*`?
- [ ] –ï—Å—Ç—å –ª–∏ —è–≤–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤?
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã –ª–∏ —Ç–∏–ø—ã –≤ `definitions.ts` –µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏?

### TypeScript:
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `type` –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ —Ç–∏–ø–æ–≤ (`import type { ... }`)?
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `const` –≤–º–µ—Å—Ç–æ `let` –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ?
- [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ `function`?
- [ ] –ù–µ—Ç `any` —Ç–∏–ø–æ–≤ –±–µ–∑ –∫—Ä–∞–π–Ω–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏?

### React:
- [ ] `'use client'` –¥–æ–±–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ –≥–¥–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ?
- [ ] –ù–µ—Ç async —Ñ—É–Ω–∫—Ü–∏–π –≤ Client Components?
- [ ] Props —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å?
- [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–∞–º–æ–∑–∞–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è —Ç–µ–≥–∏ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ?

### –°—Ç–∏–ª–∏:
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `cn()` –¥–ª—è —É—Å–ª–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤?
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã `dark:` –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è —Å—Ç–∏–ª–µ–π?
- [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö?

### i18n:
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã –û–ë–ê —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ (en.json –∏ ru.json)?
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `useTranslations` hook –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤?

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- [ ] –ù–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥–∞ –ø–∞—Ä–æ–ª–µ–π –∏–ª–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤?
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ localStorage?
- [ ] –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏?

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π

### –ü—Ä–∏–º–µ—Ä 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```typescript
// 1. –î–æ–±–∞–≤–ª—è–µ–º –≤ lib/definitions.ts
type UserId = 
  | 'existing.user'
  | 'new.user'  // ‚Üê NEW
  | ...

// 2. –î–æ–±–∞–≤–ª—è–µ–º –≤ lib/data/users.ts
export const users: User[] = [
  // ...existing users
  {
    id: 'new.user',
    name: 'New User',
    family: 'somefamily',
    avatar: '/users/new.user.webp',
    birthdate: new Date(1990, 0, 1),
    role: 'user',
    tags: createTags(['parents', 'mothers'] as const),
  },
]

// 3. –î–æ–±–∞–≤–ª—è–µ–º –∞–≤–∞—Ç–∞—Ä –≤ public/users/new.user.webp
```

### –ü—Ä–∏–º–µ—Ä 2: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º

```tsx
'use client'

import { Card, CardContent } from '@/components/ui/card'
import { getFamily } from '@/lib/auth'
import type { User } from '@/lib/definitions'

interface Props {
  users: User[]
}

export default function UsersList({ users }: Props) {
  const family = getFamily()
  
  if (!family) return null
  
  // –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Å–µ–º—å–µ
  const familyUsers = users.filter(user => user.family === family.id)
  
  return (
    <div className="space-y-4">
      {familyUsers.map(user => (
        <Card key={user.id}>
          <CardContent className="flex items-center gap-4 p-4">
            <img 
              src={user.avatar} 
              alt={user.name}
              className="w-12 h-12 rounded-full"
            />
            <div>
              <h3 className="font-semibold dark:text-white">{user.name}</h3>
              <p className="text-sm text-gray-500 dark:text-gray-400">
                {user.role}
              </p>
            </div>
          </CardContent>
        </Card>
      ))}
    </div>
  )
}
```

### –ü—Ä–∏–º–µ—Ä 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

```typescript
// lib/data/transactions.ts

export const transactions: Transaction[] = [
  // ...existing transactions
  {
    id: 'tx-new-transaction',
    name: '–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏',
    description: '–û–ø–∏—Å–∞–Ω–∏–µ',
    value: -5000,
    category: 'music',
    families: {
      'eremeev': -1000,
      'petrov': -1500,
      'fadeev': -2500,
    },
    timestamp: Date.now(),
    teacher: 'veronika.zolotareva',
  },
]

// –°–æ–∑–¥–∞—ë–º —Å–≤—è–∑–∏ —Å–µ–º—å—è-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
export const familyTransactions: FamilyTransaction[] = [
  // ...
  { family: 'eremeev', transaction: 'tx-new-transaction', value: -1000 },
  { family: 'petrov', transaction: 'tx-new-transaction', value: -1500 },
  { family: 'fadeev', transaction: 'tx-new-transaction', value: -2500 },
]
```

---

## üìö –°–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ User

```typescript
type User = {
  id: UserId                      // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (name.surname)
  name: string                    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è
  family?: FamilyId               // ID —Å–µ–º—å–∏
  birthdate: Date                 // –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è
  avatar: string                  // –ü—É—Ç—å –∫ –∞–≤–∞—Ç–∞—Ä—É
  contacts?: Partial<Contacts>    // –¢–µ–ª–µ—Ñ–æ–Ω, telegram
  role: 'user' | 'manager' | 'admin'
  tags: Set<UserTag>              // –¢–µ–≥–∏ (parents, children, etc.)
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Family

```typescript
type Family = {
  id: FamilyId                    // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
  name: { ru: string; en: string } // –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è
  mother: User['id']              // ID –º–∞—Ç–µ—Ä–∏
  father?: User['id']             // ID –æ—Ç—Ü–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  children: User['id'][]          // –ú–∞—Å—Å–∏–≤ ID –¥–µ—Ç–µ–π
  value: number                   // –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å
  password: string                // –ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞
  avatar?: string                 // –ê–≤–∞—Ç–∞—Ä —Å–µ–º—å–∏
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Transaction

```typescript
type Transaction = {
  id: string                      // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (tx-*)
  name: string                    // –ù–∞–∑–≤–∞–Ω–∏–µ
  description: string             // –û–ø–∏—Å–∞–Ω–∏–µ
  value: number                   // –û–±—â–∞—è —Å—É–º–º–∞ (+ –¥–æ—Ö–æ–¥, - —Ä–∞—Å—Ö–æ–¥)
  category: Category['id']        // ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  families: FamiliesIncomes       // –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–µ–º—å—è–º
  timestamp: number               // Unix timestamp
  teacher?: User['id']            // ID —É—á–∏—Ç–µ–ª—è (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
  target?: TransactionTarget      // –î–µ—Ç–∞–ª–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è
  source?: TransactionSource      // –î–µ—Ç–∞–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
}
```

### –û—Å–Ω–æ–≤–Ω—ã–µ API —Ñ—É–Ω–∫—Ü–∏–∏

```typescript
// –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (lib/auth.ts)
login(username: string, password: string): boolean
logout(): void
getCurrentUser(): User | null
getFamily(): Family | null

// –£—Ç–∏–ª–∏—Ç—ã (lib/utils.ts)
cn(...classes): string                          // –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤
removeHtmlTags(str: string): string            // –£–¥–∞–ª–µ–Ω–∏–µ HTML
arrayToObjectById<T>(items: T[]): Record       // –ú–∞—Å—Å–∏–≤ ‚Üí —Å–ª–æ–≤–∞—Ä—å

// –í—Ä–µ–º—è (lib/tools/time.ts)
format(timestamp: number): string              // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
```

---

## üéì –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–∞—Ö –∫–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ò–∑—É—á–∏—Ç–µ —ç—Ç–∏ —Ñ–∞–π–ª—ã –∫–∞–∫ –ø—Ä–∏–º–µ—Ä—ã:

1. **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: `lib/definitions.ts` - –æ–±—Ä–∞–∑–µ—Ü —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
2. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: `components/shared/transaction-card.tsx` - –ø—Ä–æ—Å—Ç–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
3. **Client –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**: `components/ui/forms/login-form.tsx` - —Ñ–æ—Ä–º–∞ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
4. **–†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏**: `lib/data/users.ts` - –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
5. **–£—Ç–∏–ª–∏—Ç—ã**: `lib/utils.ts` - –ø—Ä–∏–º–µ—Ä—ã –ø–æ–ª–µ–∑–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ò–ò

1. **–°–ª–µ–¥—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º** - –Ω–µ –∏–∑–æ–±—Ä–µ—Ç–∞–π—Ç–µ –Ω–æ–≤—ã–µ –ø–æ–¥—Ö–æ–¥—ã, –µ—Å–ª–∏ –µ—Å—Ç—å —É—Å—Ç–æ—è–≤—à–∏–µ—Å—è
2. **–¢–∏–ø–∏–∑–∞—Ü–∏—è –ø—Ä–µ–≤—ã—à–µ –≤—Å–µ–≥–æ** - —è–≤–Ω—ã–µ —Ç–∏–ø—ã –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ** - –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
4. **–ú–∏–Ω–∏–º–∞–ª–∏–∑–º** - –Ω–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –ª–∏—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–ª–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
5. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –æ–¥–Ω–∏–º —á–µ–ª–æ–≤–µ–∫–æ–º

### –ö–æ–≥–¥–∞ —Å–æ–º–Ω–µ–≤–∞–µ—Ç–µ—Å—å:

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –¥–ª—è –ø–æ—Ö–æ–∂–µ–π –∑–∞–¥–∞—á–∏
- –°–ª–µ–¥—É–π—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø—É KISS (Keep It Simple, Stupid)
- –°–ø—Ä–æ—Å–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—è—Ö
- –ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –ø—Ä–æ—Å—Ç–µ–π—à–µ–µ —Ä–∞–±–æ—á–µ–µ —Ä–µ—à–µ–Ω–∏–µ –ø–µ—Ä–≤—ã–º

---

**–ü–æ–º–Ω–∏—Ç–µ**: –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∞–π—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ —Å–µ–º–µ–π–Ω–æ–≥–æ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–∞. –í—Å–µ —Ä–µ—à–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–æ—Å—Ç—ã, –Ω–∞–¥—ë–∂–Ω—ã –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å GitHub Pages.
